WASHINGTON Lawmakers in the US state of North Carolina have reached an agreement to repeal a controversial law setting rules on which bathrooms transgender people can use in public buildings.But the deal reported by US media still has to pass a series of hurdles in the state legislature on Thursday.And gay and lesbian groups complained that even the new arrangement is unfair to them.The initial legislation in the generally conservative southern state was a highlight of the broader cultural war between conservatives and liberals in contemporary America.As passed in March 2016, the law, often referred to as HB2, stated that in schools and government buildings transgender people had to use restrooms corresponding with the gender on their birth certificate.That rule was widely condemned as discriminatory, and resulted in North Carolina suffering a string of business boycotts.Performers such as Bruce Springsteen and major sports groups cancelled events, and there was blowback from corporate titans such as Apple and Starbucks.The new deal to repeal the law was struck late on Wednesday by Republican lawmakers and the state's Democratic governor.It strikes the rule on transgender people having to use restrooms that correspond to the gender on their birth certificate.But there is also a concession to conservatives: regulation of public bathrooms is now in sole control of the state.READ: Checkpoint: Trans rightsThat means cities and local governments are barred from approving their own anti-discrimination laws until 2020."I support the House Bill 2 repeal compromise that will be introduced tomorrow," Governor Roy Cooper said. "It's not a perfect deal, but it repeals House Bill 2 and begins to repair our reputation."It was an anti-discrimination ordinance in the city of Charlotte that touched off the whole spat in February 2016. That rule allowed transgender people to use the restroom of their choice.The angry backlash against it led to the passage of the original HB2 law.Charlotte axed the local ordinance in December as part of a compromise effort to erase the broader law. But the effort failed in the state assembly.Activists criticized the new compromise deal.Cathryn Oakley, a lawyer for the Human Rights Campaign, said the agreement means lesbian, gay, bisexual and transgender people will have no statewide anti-discrimination ordinance.It also means they cannot seek such protections from local government for years."What that means for the LGBT community is that we continue to be boxed out of nondiscrimination protections, Oakley said, according to the New York Times.AFP